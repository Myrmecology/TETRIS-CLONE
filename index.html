<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A stunning Tetris clone with Three.js 3D effects and modern gameplay">
  <meta name="keywords" content="tetris, game, threejs, 3d, javascript">
  <meta name="author" content="Your Name">
  <title>TETRIS CLONE - Neon Edition</title>
  
  <!-- Preconnect to Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/menu.css">
  <link rel="stylesheet" href="styles/hud.css">
  
  <!-- Favicon (optional - you can add your own) -->
  <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéÆ</text></svg>">
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <div class="loading-text">LOADING...</div>
    <div class="loading-spinner"></div>
  </div>

  <!-- Main App Container -->
  <div id="app">
    
    <!-- Main Menu -->
    <div class="main-menu" id="main-menu">
      <div class="menu-content">
        <h1 class="menu-title">TETRIS</h1>
        <p class="menu-subtitle">Neon Edition</p>
        
        <div class="menu-buttons">
          <button class="menu-btn" id="start-button">
            <span>Start Game</span>
          </button>
          <button class="menu-btn" id="resume-button" style="display: none;">
            <span>Resume Game</span>
          </button>
          <button class="menu-btn secondary" id="settings-button">
            <span>Settings</span>
          </button>
          <button class="menu-btn secondary" id="instructions-button">
            <span>How to Play</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settings-panel">
      <div class="settings-content">
        <div class="settings-header">
          <h2 class="settings-title">Settings</h2>
          <button class="close-btn" id="close-settings">&times;</button>
        </div>

        <!-- Audio Settings -->
        <div class="settings-group">
          <h3>Audio</h3>
          <div class="setting-item">
            <span class="setting-label">Music Volume</span>
            <div class="slider-container">
              <input type="range" id="music-volume" min="0" max="100" value="70">
              <span class="slider-value" id="music-value">70%</span>
            </div>
          </div>
          <div class="setting-item">
            <span class="setting-label">SFX Volume</span>
            <div class="slider-container">
              <input type="range" id="sfx-volume" min="0" max="100" value="80">
              <span class="slider-value" id="sfx-value">80%</span>
            </div>
          </div>
        </div>

        <!-- Gameplay Settings -->
        <div class="settings-group">
          <h3>Gameplay</h3>
          <div class="setting-item">
            <span class="setting-label">Show Ghost Piece</span>
            <input type="checkbox" id="ghost-toggle" checked>
          </div>
          <div class="setting-item">
            <span class="setting-label">Particle Effects</span>
            <input type="checkbox" id="particles-toggle" checked>
          </div>
          <div class="setting-item">
            <span class="setting-label">Screen Shake</span>
            <input type="checkbox" id="shake-toggle" checked>
          </div>
          <div class="setting-item">
            <span class="setting-label">Starting Level</span>
            <div class="slider-container">
              <input type="range" id="start-level" min="1" max="15" value="1">
              <span class="slider-value" id="level-value-setting">1</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Instructions Panel -->
    <div class="instructions-panel" id="instructions-panel">
      <div class="instructions-content">
        <div class="settings-header">
          <h2>How to Play</h2>
          <button class="close-btn" id="close-instructions">&times;</button>
        </div>

        <h3>Controls</h3>
        <ul>
          <li><span class="key-combo">‚Üê</span> <span class="key-combo">‚Üí</span> - Move piece left/right</li>
          <li><span class="key-combo">‚Üë</span> or <span class="key-combo">Z</span> - Rotate clockwise</li>
          <li><span class="key-combo">X</span> - Rotate counter-clockwise</li>
          <li><span class="key-combo">‚Üì</span> - Soft drop (faster)</li>
          <li><span class="key-combo">Space</span> - Hard drop (instant)</li>
          <li><span class="key-combo">C</span> or <span class="key-combo">Shift</span> - Hold piece</li>
          <li><span class="key-combo">P</span> or <span class="key-combo">ESC</span> - Pause game</li>
        </ul>

        <h3>Scoring</h3>
        <ul>
          <li><strong>Single:</strong> 100 √ó level</li>
          <li><strong>Double:</strong> 300 √ó level</li>
          <li><strong>Triple:</strong> 500 √ó level</li>
          <li><strong>Tetris (4 lines):</strong> 800 √ó level</li>
          <li><strong>Soft Drop:</strong> 1 point per cell</li>
          <li><strong>Hard Drop:</strong> 2 points per cell</li>
        </ul>

        <h3>Game Mechanics</h3>
        <ul>
          <li><strong>Level Up:</strong> Clear 10 lines to advance to the next level</li>
          <li><strong>Speed:</strong> Pieces fall faster as you level up</li>
          <li><strong>Combos:</strong> Clear lines consecutively for bonus points</li>
          <li><strong>Hold:</strong> Save a piece for later (once per drop)</li>
          <li><strong>Ghost Piece:</strong> Shows where your piece will land</li>
        </ul>

        <h3>Tips</h3>
        <ul>
          <li>Build flat surfaces and avoid creating gaps</li>
          <li>Save the <strong>I-piece</strong> for clearing 4 lines at once (Tetris!)</li>
          <li>Use the hold feature strategically</li>
          <li>Watch the next piece preview to plan ahead</li>
          <li>Keep your stack low to have more time to react</li>
        </ul>
      </div>
    </div>

    <!-- Game Container -->
    <div id="game-container">
      <canvas id="game-canvas"></canvas>
    </div>

    <!-- HUD Container -->
    <div class="hud-container" id="hud-container">
      
      <!-- Game Stats (Top Left) -->
      <div class="game-stats" id="game-stats">
        <div class="stat-row">
          <span class="stat-label">Score</span>
          <span class="stat-value" id="score-value">0</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Level</span>
          <span class="stat-value" id="level-value">1</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Lines</span>
          <span class="stat-value" id="lines-value">0</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">High Score</span>
          <span class="stat-value" id="high-score-value">0</span>
        </div>
      </div>

      <!-- Next Piece (Top Right) -->
      <div class="next-piece-panel">
        <div class="panel-title">Next</div>
        <div id="next-piece"></div>
      </div>

      <!-- Hold Piece (Right, Below Next) -->
      <div class="hold-piece-panel">
        <div class="panel-title">Hold</div>
        <div id="hold-piece"></div>
      </div>

      <!-- Combo Display (Center) -->
      <div class="combo-display">
        <div id="combo-text"></div>
      </div>

    </div>

    <!-- Game Over Screen -->
    <div class="game-over-screen" id="game-over-screen" style="display: none;">
      <div class="game-over-content">
        <h1 class="game-over-title">GAME OVER</h1>
        
        <div id="new-high-score" class="new-high-score" style="display: none;">
          <span class="star">‚≠ê</span>
          NEW HIGH SCORE!
          <span class="star">‚≠ê</span>
        </div>
        
        <div class="game-over-stats" id="game-over-stats">
          <div class="stat-item">
            <span class="stat-label">Final Score</span>
            <span class="stat-value" id="final-score">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Level Reached</span>
            <span class="stat-value" id="final-level">1</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Lines Cleared</span>
            <span class="stat-value" id="final-lines">0</span>
          </div>
        </div>

        <div class="detailed-stats" id="detailed-stats">
          <h3>Performance</h3>
          <div class="detailed-stats-grid">
            <div class="detail-stat">
              <span class="detail-label">Singles</span>
              <span class="detail-value" id="singles-count">0</span>
            </div>
            <div class="detail-stat">
              <span class="detail-label">Doubles</span>
              <span class="detail-value" id="doubles-count">0</span>
            </div>
            <div class="detail-stat">
              <span class="detail-label">Triples</span>
              <span class="detail-value" id="triples-count">0</span>
            </div>
            <div class="detail-stat">
              <span class="detail-label">Tetrises</span>
              <span class="detail-value" id="tetrises-count">0</span>
            </div>
            <div class="detail-stat">
              <span class="detail-label">Max Combo</span>
              <span class="detail-value" id="max-combo">0</span>
            </div>
            <div class="detail-stat">
              <span class="detail-label">Play Time</span>
              <span class="detail-value" id="play-time">0:00</span>
            </div>
          </div>
        </div>
        
        <div class="game-over-buttons">
          <button id="restart-button" class="menu-btn primary">
            <span>Play Again</span>
          </button>
          <button id="menu-button" class="menu-btn secondary">
            <span>Main Menu</span>
          </button>
        </div>
      </div>
    </div>

  </div>

  <!-- Main JavaScript Module -->
  <script type="module" src="src/main.js"></script>
</body>
</html>